<%
  contract = player.contract
  team = player.team
  show_team = true if show_team.nil?
%>

<% if contract %>
  <% if team %>
    <% if show_team %>
      <% unless current_page?(league_team_path(team.league, team)) %>
        <%= link_to team.name, league_team_path(team.league, team) %>
      <% end %>
    <% end %>
  <% else %>
    <%= content_tag :span, 'Free Agent', class: 'no-wrap' %>
  <% end %>
  <%= content_tag :span, pluralize(contract.length, 'year'),
                  class: 'no-wrap' %>
<% else %>
  Available
<% end %>
