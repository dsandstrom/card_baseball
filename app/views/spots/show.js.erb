<%= render('shared/flash_form_errors.js', object: @spot) if @spot.position %>

<% if @old_spot %>
  var form = document.getElementById("spot_batting_order_<%= @old_spot.batting_order %>_form");
  if (form) {
    form.outerHTML = "<%= j render('lineups/batting_spot_form', lineup: @lineup, team: @team, spot: @old_spot) %>";
  }
<% end %>

<% if @new_spot %>
  var form = document.getElementById("spot_batting_order_<%= @new_spot.batting_order %>_form");
  if (form) {
    form.outerHTML = "<%= j render('lineups/batting_spot_form', lineup: @lineup, team: @team, spot: @new_spot) %>";
  }
<% end %>

<% if @bench_player %>
  var bench = document.querySelector('.lineup-bench');
  if (bench) {
    bench.innerHTML = "<%= j render('lineups/bench_player', bench_player: @bench_player) %>" + bench.innerHTML;
  }
<% end %>

<%= render 'lineups/defense', team: @team, lineup: @lineup %>

<%= render 'spots/form', team: @team, lineup: @lineup, spot: @spot %>
